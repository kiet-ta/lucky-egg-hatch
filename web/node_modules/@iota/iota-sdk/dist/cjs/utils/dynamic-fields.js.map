{
  "version": 3,
  "sources": ["../../../src/utils/dynamic-fields.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// Modifications Copyright (c) 2025 IOTA Stiftung\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toHex } from '@iota/bcs';\nimport { blake2b } from '@noble/hashes/blake2b';\n\nimport type { TypeTag } from '../bcs/bcs.js';\nimport { bcs } from '../bcs/index.js';\n\nexport function deriveDynamicFieldID(\n    parentId: string,\n    typeTag: typeof TypeTag.$inferInput,\n    key: Uint8Array,\n) {\n    const address = bcs.Address.serialize(parentId).toBytes();\n    const tag = bcs.TypeTag.serialize(typeTag).toBytes();\n    const keyLength = bcs.u64().serialize(key.length).toBytes();\n\n    const hash = blake2b.create({\n        dkLen: 32,\n    });\n\n    hash.update(new Uint8Array([0xf0]));\n    hash.update(address);\n    hash.update(keyLength);\n    hash.update(key);\n    hash.update(tag);\n\n    return `0x${toHex(hash.digest().slice(0, 32))}`;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,iBAAsB;AACtB,qBAAwB;AAGxB,IAAAA,cAAoB;AAEb,SAAS,qBACZ,UACA,SACA,KACF;AACE,QAAM,UAAU,gBAAI,QAAQ,UAAU,QAAQ,EAAE,QAAQ;AACxD,QAAM,MAAM,gBAAI,QAAQ,UAAU,OAAO,EAAE,QAAQ;AACnD,QAAM,YAAY,gBAAI,IAAI,EAAE,UAAU,IAAI,MAAM,EAAE,QAAQ;AAE1D,QAAM,OAAO,uBAAQ,OAAO;AAAA,IACxB,OAAO;AAAA,EACX,CAAC;AAED,OAAK,OAAO,IAAI,WAAW,CAAC,GAAI,CAAC,CAAC;AAClC,OAAK,OAAO,OAAO;AACnB,OAAK,OAAO,SAAS;AACrB,OAAK,OAAO,GAAG;AACf,OAAK,OAAO,GAAG;AAEf,SAAO,SAAK,kBAAM,KAAK,OAAO,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC;AACjD;",
  "names": ["import_bcs"]
}
